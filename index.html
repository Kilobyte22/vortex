<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>The Vortex scripting language</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <meta name="Author" content="q66"/>
    <meta name="Copyright" content="Copyright (C) 2012 q66"/>
    <meta name="Language" content="en"/>
    <link rel="stylesheet" type="text/css" href="vortex.css"/>
    <script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
</head>
<body>
    <div id="logo">
        <a href="http://quaker66.github.com/vortex/">Vortex</a>
    </div>
    <div id="menu"><ul>
        <li><a href="#top">Home</a><span class="arrow">&raquo;</span></li>
        <li><a href="#news">News</a><span class="arrow">&raquo;</span></li>
        <li><a href="#about">About</a><span class="arrow">&raquo;</span></li>
        <li><a href="#install">Installation</a><span class="arrow">&raquo;</span></li>
        <li><a href="#faq">FAQ</a><span class="arrow">&raquo;</span></li>
        <li><a href="https://github.com/quaker66/vortex/blob/master/docs/tutorial.md">Tutorial</a><span class="arrow">&raquo;</span></li>
        <li><a href="https://github.com/quaker66/vortex/blob/master/docs/language_reference.md">Documentation</a><span class="arrow">&raquo;</span></li>
        <li><a href="https://github.com/quaker66/vortex/wiki">Wiki</a><span class="arrow">&raquo;</span></li>
        <li><a href="https://github.com/quaker66/vortex/issues">Issues</a><span class="arrow">&raquo;</span></li>
    </ul>
    <br/>
    <div style="float: left; margin-left: 1em;"><g:plusone></g:plusone></div>
    </div>
    <div id="main">
        <a href="https://github.com/quaker66/vortex">
            <img style="position: absolute; top: 0; right: 0; border: 0;"
                 src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
                 alt="Fork me on GitHub"/>
        </a>
        <h1>Vortex is a scripting language that compiles to Lua.</h1>
        <div class="box">
            <p>It aims to provide a comfortable, modern scripting language that
            follows both Lua and "batteries included" philosophies. Note: <span class="note">Vortex is not stable at this point
            and many of the features are incomplete/missing/undecided on.</span></p>
            <h3>First, a small taste of the language.</h3>
            <pre class="code"><span class="kw1">let</span> env = [ a = <span class="num">1</span>, b = <span class="num">2</span>, c = <span class="num">3</span> ]
<span class="kw1">let</span> Add, Mul, Var, Num =
    <span class="kw1">fn</span> a, b <span class="kw2">-></span> <span class="kw1">fn</span> env <span class="kw2">-></span> <span class="call">a</span>(env) + <span class="call">b</span>(env),
    <span class="kw1">fn</span> a, b <span class="kw2">-></span> <span class="kw1">fn</span> env <span class="kw2">-></span> <span class="call">a</span>(env) * <span class="call">b</span>(env),
    <span class="kw1">fn</span> a    <span class="kw2">-></span> <span class="kw1">fn</span> env <span class="kw2">-></span> env[a],
    <span class="kw1">fn</span> a    <span class="kw2">-></span> <span class="kw1">fn</span> env <span class="kw2">-></span> a

<span class="comment">// (a + (2 * b)) * c</span>
<span class="kw1">let</span> tree = <span class="call">Mul</span>(<span class="call">Add</span>(<span class="call">Var</span>(<span class="str">"a"</span>), <span class="call">Mul</span>(<span class="call">Num</span>(<span class="num">2</span>), <span class="call">Var</span>(<span class="str">"b"</span>))), <span class="call">Var</span>(<span class="str">"c"</span>))
<span class="call">print</span>(<span class="call">tree</span>(env))</pre>
            <h3>Vortex is convenient.</h3>
            <p>It includes familiar curly braced syntax inspired by languages
            such as Lua, Scheme, Rust, OCaml and F#. Staying true to its roots,
            it provides facilities for semantic extension and adds its own for
            the syntax as well. It's multi-paradigm, providing builtin support
            for several programming styles by default, primarily functional.</p>
            <p>It's a fully expression based language, having no statements. There
            are multiple expressions that are, however, mostly used as statements
            and do not work like expressions in the traditional form (such as
            goto).</p>
            <h3>Vortex is powerful.</h3>
            <p>In addition to Lua, Vortex provides many additional features,
            including:</p><ul>
                <li>Function arguments with default values</li>
                <li>Implicit return values from functions</li>
                <li>Blocks are expressions</li>
                <li>Builtin syntax for coroutines and generators</li>
                <li>Pattern matching</li>
                <li>Sequences</li>
                <li>Hygienic macros</li>
                <li>Additional table operations (join, slice)</li>
                <li>Lists</li>
                <li>Destructuring let</li>
                <li>Builtin syntax for objects</li>
                <li>and more.</li>
            </ul>
            <h3>Vortex is fast.</h3>
            <p>It outputs nice, pretty-printed Lua code that is as fast as its
            handwritten equivalents, particularly with LuaJIT, which is also
            the primary environment Vortex is supposed to be used in.</p>
            <h3>Vortex is compatible.</h3>
            <p>The output is fully compatible with Lua 5.2 and LuaJIT. Lua 5.1
            compatibility is not guaranteed and some code might not work (the
            output uses extensions such as goto and the bit library).</p>
            <h3>Want more?</h3>
            <p>Try it out! And feel free to look around for examples.</p>
        </div>
        <br class="sep"/>
        <div class="box">
            <h2><a name="news"></a>News</h2>
            <dl>
                <dt><sup>October 28 2012</sup>Initial website launch</dt>
                <dd>I launched this website. It's incomplete at this point,
                but eventually more content will appear.</dd>
            </dl>
        </div>
        <br class="sep"/>
        <div class="box">
            <h2><a name="about"></a>About Vortex</h2>
            <p>Vortex was created by Daniel "q66" Kolesa as an attempt to
            create a language that uses Lua as an intermediate step. It tries
            to keep the best from Lua while eliminating the noise and verbosities
            and adding new useful features.</p>
            <p>Instead of using a limited indent-based syntax, Vortex stays with
            a free form one where whitespace is insignificant, allowing for custom
            formatting of the source code, but at the same time attempts to make
            it as clean as possible. Here you can see some of the features Vortex
            has.</p>
            <pre class="code"><span class="comment">/* tail recursive, pattern matched factorial
   /* long comments can be nested */
 */</span>
<span class="kw1">let</span> <span class="kw2">rec</span> fact = <span class="kw1">fn</span> n, acc = <span class="num">1</span> <span class="kw2">-></span>
    | <span class="num">0</span> <span class="kw2">-></span> acc
    | _ <span class="kw2">-></span> <span class="call">fact</span>(n - <span class="num">1</span>, n * acc)

<span class="comment">// sequences</span>
<span class="kw1">let</span> a, b, c = <span class="kw1">seq</span> <span class="kw2">-></span> <span class="call">pairs</span>([ <span class="num">5</span>, <span class="num">10</span>, <span class="num">15</span> ], <span class="kw1">fn</span> k, v <span class="kw2">-></span> <span class="kw1">yield</span> v)
<span class="call">assert</span>(a == <span class="num">5</span> <span class="kw1">and</span> b == <span class="num">10</span> <span class="kw1">and</span> c == <span class="num">15</span>)

<span class="comment">// sequences as list comprehensions</span>
<span class="kw1">let</span> fun = <span class="kw1">fn</span> ... <span class="kw2">-></span>
    [ <span class="kw1">seq</span> <span class="kw2">-></span> <span class="call">pairs</span>([ ... ], <span class="kw1">fn</span> k, v <span class="kw2">-></span> <span class="kw1">yield</span> v * <span class="num">2</span>) ]
<span class="call">assert</span>(<span class="call">fun</span>(<span class="num">1</span>, <span class="num">2</span>, <span class="num">3</span>)[<span class="num">3</span>] == <span class="num">6</span>)

<span class="comment">// hybrid prototype/class object system with differential inheritance</span>
<span class="kw1">let</span> Foo = <span class="kw1">clone</span> <span class="kw2">Object</span> [
    __init = <span class="kw1">fn</span> <span class="kw2">self</span>, x {
        <span class="kw2">self</span>.x = x
    },

    boo = <span class="kw1">fn</span> <span class="kw2">self</span> <span class="kw2">-></span> <span class="call">print</span>(<span class="str">"boo!"</span>, <span class="kw2">self</span>.x)
]
<span class="kw1">let</span> Bar = <span class="kw1">clone</span> Foo [
    boo = <span class="kw1">fn</span> <span class="kw2">self</span> {
        <span class="call">print</span>(<span class="str">"new boo!"</span>)
        <span class="call">Foo.boo</span>(<span class="kw2">self</span>)
    }
]
<span class="kw1">let</span> inst = <span class="call">Bar</span>(<span class="num">5</span>)
<span class="call">inst:boo</span>()</pre>
        </div>
        <br class="sep"/>
        <div class="box">
            <h2><a name="install"></a>Installation</h2>
            <p>At this point, you'll have to clone the <a href="http://github.com/quaker66/vortex">Git repository</a>
            and run things manually; there is no automated system at this point. You'll need LuaJIT or Lua 5.2.
            Regular Lua 5.1 will not work.</p>
            <p>In the future, I might provide some automated system based on LuaRocks or something.</p>
        </div>
        <br class="sep"/>
        <div class="box">
            <h2><a name="faq"></a>Vortex FAQ</h2>
            <dl>
                <dt>Why Vortex?</dt>
                <dd>Because the language is always in a whirl. :) The name will stay when the language is stable though.</dd>
                <dt>How about editor support?</dt>
                <dd>At this point, there is jEdit syntax file included in the repository. Vim support is coming soon and others possibly too.</dd>
                <dt>Why a new language?</dt>
                <dd>I worked with many languages and so far I haven't found any that shared all the goals with Vortex.</dd>
                <dt>Where can I find more information, example code, list of differences etc.?</dt>
                <dd>The <a href="https://github.com/quaker66/vortex/wiki">wiki</a> is the place you want.</dd>
            </dl>
        </div>
        <br class="sep"/>
    </div>
    <div id="footer">
        Vortex is provided under the terms of the MIT license &middot; Copyright 2012 Daniel "q66" Kolesa
    </div>
</body>
</html>
